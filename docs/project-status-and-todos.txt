# Project Status and TODOs - Updated [Current Date]

## Current Status
1. Working on Smart Solutions alternative campaign page
2. Successfully implemented:
   - Hero section with animated trust badges
   - Installation section with process steps
   - Basic layout and routing

## Latest Session Status (Visual Hierarchy Improvements)
1. Successfully implemented:
   - Section dividers using subtle line and dot design
   - Alternating section backgrounds (white and #F8F6F3)
   - Initial hero text animation with ScrollReveal

2. Current Work:
   - Working on process steps section enhancements
   - Started adding placeholder images to processSteps array
   - Need to implement image display in InstallationWithTimeline component

3. Latest Changes:
   - Added section dividers with:
     * w-32 h-[1px] line in primary color (20% opacity)
     * w-2 h-2 dot in accent color (30% opacity)
   - Added ScrollReveal animation to hero text:
     * fadeInUp variant
     * 0.2s delay
     * 0.8s duration (Note: duration prop causing type error)

4. Current Issues:
   - ScrollReveal type error in hero component:
     ```
     Type '{ children: Element; variant: "fadeInUp"; delay: number; duration: number; className: string; }' 
     is not assignable to type 'IntrinsicAttributes & ScrollRevealProps'
     ```
   - Need to resolve before continuing with process steps images

5. Next Steps:
   - Fix ScrollReveal type error
   - Complete process steps image implementation
   - Continue with visual hierarchy improvements:
     * Typography enhancements
     * Content grouping with cards
     * Visual anchors
     * Interactive elements
     * Content priority indicators

## Recent Issues
1. Font configuration was lost/broken
   - Using Next.js font system in layout.tsx
   - Font variables defined but not properly referenced
   - Need to ensure fonts are properly loaded and applied

2. Global styling conflicts
   - Added styles affecting all pages unintentionally
   - Need to properly scope campaign-specific styles

## For Next Session
1. Font Configuration Needs:
   - Verify font imports in layout.tsx:
     * Montserrat
     * PT Serif
     * Dancing Script
     * Playfair Display SC
   - Check font variable references in components
   - Ensure proper class names are being used

2. Current Component Status:
   - Hero: Working with animated badges
   - Installation: Process steps implemented
   - Trust Badges: Between-sections animation concept started
   - Other sections: Basic implementation

3. Known Issues to Fix:
   - ConsultationCTA props mismatch (features vs guarantees)
   - ProcessStep type issues in installation component
   - Product explorer glass options type error

4. Next Development Steps:
   - Complete trust badges between-sections animation
   - Refine installation section timeline
   - Implement remaining section enhancements from improvement-ideas.md

## Required Context for New Session
1. Project Structure:
   - Main app at src/app/page.tsx
   - Campaign version at src/app/smart-solutions/showers/page.tsx
   - Alternative version at src/app/smart-solutions-alt/page.tsx

2. Design System:
   - Colors:
     * primary: '#016369'
     * primary-light: '#0A7C7C'
     * primary-dark: '#013F42'
     * accent: '#F0A500'
   - Fonts: See font configuration above

3. Key Files to Review:
   - src/app/layout.tsx (root layout)
   - src/app/smart-solutions/layout.tsx (campaign layout)
   - src/components/sections/smart-solutions-alt/* (alternative components)

## Immediate Priority
1. Fix font configuration
2. Resolve type errors
3. Continue with section enhancements

## Long-term TODOs
1. Implement remaining improvements from improvement-ideas.md
2. Add analytics tracking
3. Optimize images and performance
4. Add more interactive features

## Critical Context for Font Issues
1. Original Font Configuration:
   - Next.js font loading in layout.tsx
   - Font variables defined and exported
   - CSS variables referencing font variables
   - Components using font-{name} classes

2. What Broke:
   - Lost connection between Next.js font variables and CSS
   - Need to check font class usage in components
   - May have incorrect font variable references

3. Steps to Fix:
   - Review layout.tsx font configuration
   - Check CSS variable references
   - Verify component font class usage

## Type Error Details
1. Product Explorer:
   - glassOptions optional property causing type errors
   - Need to properly type option interfaces
   - Add proper type guards

2. ConsultationCTA:
   - Props mismatch between features/guarantees
   - Check component interface definition
   - Update all usage locations

3. ProcessStep:
   - Animation type needs to be constrained
   - Current error in smart-solutions-alt implementation
   - Need to align types across components

## Current Development State
1. Last Working State:
   - Hero animations working
   - Basic layout structure in place
   - Color system restored

2. Current Issues:
   - Font system broken
   - Type errors preventing clean build
   - Need to verify section transitions

3. Next Steps:
   - Fix font configuration
   - Resolve type errors
   - Continue section enhancements

   ## Critical Details for Next Session

1. Type Error Fixes:
   - ConsultationCTA: Change 'guarantees' prop to 'features' in alt page
   - ProcessStep: Animation type must be 'pulse' | 'spin' | 'bounce' | 'glow'
   - Product Explorer: Need discriminated union for options with/without glassOptions

2. Current Working Features:
   - Hero section with scroll-triggered trust badges
   - Color system restored (#016369, #F0A500, etc.)
   - Basic layout and navigation

3. Next Steps:
   - Fix type errors one at a time
   - Test each fix before moving to next
   - Keep font system as is until type errors resolved

4. Do Not Change:
   - Layout.tsx font configuration
   - Global CSS variables
   - Smart solutions campaign layout

   ## Type Error Specifics and Solutions

1. ConsultationCTA Error:
   ```typescript
   Type '{ variant: "white"; guarantees: string[]; }' is not assignable to type 'IntrinsicAttributes & ConsultationCTAProps'
   ```
   Solution: Change `guarantees` to `features` in alt page usage

2. ProcessStep Animation Error:
   ```typescript
   Type 'string' is not assignable to type '"pulse" | "spin" | "bounce" | "glow"'
   ```
   Solution: Update processSteps array to use specific animation types

3. Product Explorer Error:
   ```typescript
   Property 'glassOptions' does not exist on type '{ id: string; name: string; image: string; }'
   ```
   Solution: Add proper type guard for options with/without glassOptions

These are the exact errors we need to fix when we restart.

## Exact Linter Errors to Fix

1. Product Explorer Error:
```
Property 'glassOptions' does not exist on type '{ id: string; name: string; glassOptions: { id: string; name: string; image: string; }[]; image: string; } | { id: string; name: string; image: string; }'.
Property 'glassOptions' does not exist on type '{ id: string; name: string; image: string; }'.
```

2. ProcessStep Animation Error:
```
Type '{ step: number; title: string; time: string; icon: ForwardRefExoticComponent<...>; animation: string; }[]' is not assignable to type 'ProcessStep[]'.
Type 'string' is not assignable to type '"pulse" | "spin" | "bounce" | "glow"'.
```

3. ConsultationCTA Error:
```
Type '{ variant: "white"; guarantees: string[]; }' is not assignable to type 'IntrinsicAttributes & ConsultationCTAProps'.
Property 'guarantees' does not exist on type 'IntrinsicAttributes & ConsultationCTAProps'.
```

These errors need to be fixed in order of impact:
1. ConsultationCTA first (prop name mismatch)
2. ProcessStep animation (type constraint)
3. Product Explorer (discriminated union)

## Visual Hierarchy Implementation Details
1. Section Divider Component Location and Implementation:
   - Located at: src/components/ui/section-divider.tsx
   - Working implementation:
     ```typescript
     export function SectionDivider() {
       return (
         <div className="flex items-center justify-center py-8">
           <div className="w-32 h-[1px] bg-[#016369]/20 relative">
             <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-[#F5875F]/30" />
           </div>
         </div>
       )
     }
     ```

2. Process Steps Data Structure:
   - Located in: src/app/smart-solutions-alt/page.tsx
   - Current structure:
     ```typescript
     const processSteps = [
       { 
         step: 1, 
         title: 'Free Consultation', 
         time: '1 hour',
         icon: Calendar,
         animation: 'pulse' as const,
         // Ready to add:
         // image: 'https://placehold.co/400x300/016369/FFFFFF/png?text=Consultation',
         // imageAlt: 'Design consultant discussing options with homeowner'
       },
       // ... other steps
     ]
     ```

3. ScrollReveal Usage Context:
   - Component: src/components/sections/smart-solutions-alt/hero.tsx
   - Current implementation causing type error with duration prop
   - Need to check ScrollRevealProps interface before next session
   - May need to modify ScrollReveal component to accept duration

4. Section Background Pattern:
   - Alternating colors: white and #F8F6F3
   - Implementation in page.tsx using wrapper divs
   - Each section is wrapped in background div before SectionDivider

5. Branch Information:
   - Currently on: feature/visual-hierarchy
   - Main changes in:
     * section-divider.tsx
     * smart-solutions-alt/page.tsx
     * smart-solutions-alt/hero.tsx

6. Placeholder Image Pattern:
   - Using placehold.co with format:
     https://placehold.co/400x300/016369/FFFFFF/png?text=[Step]
   - Size: 400x300
   - Colors: Primary (#016369) background, White text

## Next Component Changes
1. InstallationWithTimeline Component:
   - Need to add image display to process steps
   - Current layout is grid md:grid-cols-4
   - Need to decide on image placement:
     * Above step number
     * Below step content
     * Or new layout pattern needed

2. ScrollReveal Component Issue:
   - Current props: variant, delay, className
   - Need to either:
     * Remove duration prop from hero.tsx
     * Or extend ScrollRevealProps to include duration
   - Check if other components using ScrollReveal need updates

3. Visual Hierarchy Next Steps Order:
    1. Fix ScrollReveal type error in hero
    2. Add images to process steps
    3. Then proceed with other visual improvements

## Note to Self:
- Do not attempt multiple component changes at once
- Test each change before moving to next
- Keep track of any new type errors that emerge

## Files to Check for ScrollReveal Fix
1. src/components/ui/scroll-reveal.tsx
   - Need to check current props interface
   - See if duration can be added safely

2. Other components using ScrollReveal:
   - src/components/sections/smart-solutions-alt/hero.tsx (current issue)
   - src/components/sections/smart-solutions-alt/installation.tsx
   - src/components/sections/smart-solutions-alt/benefits.tsx
   - src/components/shared/consultation-cta.tsx
   - Any changes need to be applied consistently

3. Order of Investigation:
    1. Check ScrollReveal component definition
    2. Review all current usage
    3. Decide whether to:
       * Remove duration prop everywhere
       * Or extend component to support it
    4. Apply consistent fix across all components

## Git Status and Progress
1. Current Branch State:
   - On feature/visual-hierarchy
   - Successfully committed:
     * Section divider implementation
     * Alternating backgrounds
     * Hero text animation (with type error)
   - Not yet committed:
     * Process steps image data structure changes

2. Before Next Session:
   - Need to check out feature/visual-hierarchy branch
   - Verify all changes from last session were committed
   - May need to resolve any conflicts if main was updated

3. Remember:
   - Do not merge to main until ScrollReveal type error is fixed
   - Keep commits focused on single concerns
   - Test each change before committing